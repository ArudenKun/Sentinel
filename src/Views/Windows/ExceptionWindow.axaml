<suki:SukiWindow
    x:Class="Sentinel.Views.Windows.ExceptionWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helpers="clr-namespace:Sentinel.Common.Helpers"
    xmlns:lucide="clr-namespace:Lucide.Avalonia;assembly=Lucide.Avalonia"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:suki="https://github.com/kikipoulet/SukiUI"
    xmlns:vmw="using:Sentinel.ViewModels.Windows"
    Title="{Binding Title}"
    Width="820"
    Height="620"
    MinWidth="820"
    d:Background="#1A1A1A"
    d:DesignHeight="450"
    d:DesignWidth="800"
    d:Foreground="White"
    x:DataType="vmw:ExceptionWindowViewModel"
    CanFullScreen="False"
    CanMaximize="False"
    CanMinimize="False"
    FontSize="13"
    Icon="{Binding Icon}"
    WindowStartupLocation="CenterOwner"
    mc:Ignorable="d">
    <Grid Margin="16,5,16,16" RowDefinitions="Auto, Auto, *, Auto">
        <Grid Grid.Row="0" ColumnDefinitions="Auto,*">
            <lucide:LucideIcon
                Grid.Column="0"
                Kind="MessageCircleWarning"
                Size="28" />
            <Grid
                Grid.Column="1"
                Margin="12,0,0,0"
                VerticalAlignment="Center">
                <StackPanel>
                    <TextBlock
                        x:Name="Hint1TextBlock"
                        VerticalAlignment="Center"
                        FontSize="20"
                        Text="{Binding Hint1Text}" />
                    <TextBlock
                        x:Name="Hint2TextBlock"
                        VerticalAlignment="Center"
                        FontSize="12"
                        Text="{Binding Hint2Text}" />
                </StackPanel>
            </Grid>
        </Grid>
        <Grid Grid.Row="1" Margin="0,12,0,0">
            <StackPanel>
                <TextBlock VerticalAlignment="Center">
                    <TextBlock.Inlines>
                        <Run Text="{x:Static helpers:AppHelper.Name}" />
                        <Run Text="{x:Static helpers:AppHelper.VersionString}" />
                        <Run Text="|" />
                        <Run Text="{Binding ErrorTime, Mode=OneTime}" />
                        <Run Text="|" />
                        <Run Text="{Binding OSVersion, Mode=OneTime}" />
                    </TextBlock.Inlines>
                </TextBlock>
                <TextBlock
                    Margin="0,12,0,0"
                    VerticalAlignment="Center"
                    FontWeight="Bold"
                    Foreground="#B83C4B"
                    Text="{Binding ExceptionType}" />
            </StackPanel>
        </Grid>
        <Border
            Grid.Row="2"
            Margin="0,12,0,0"
            Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
            BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
            BorderThickness="1"
            CornerRadius="3">
            <ScrollViewer>
                <StackPanel>
                    <TextBlock
                        Margin="12"
                        Foreground="#FFAC58"
                        Text="{Binding ExceptionObject.Message}"
                        TextWrapping="Wrap" />
                    <TextBlock
                        Margin="12"
                        Foreground="#FFAC58"
                        Text="{Binding ExceptionObject}"
                        TextWrapping="Wrap" />
                </StackPanel>
            </ScrollViewer>
        </Border>
        <Grid Grid.Row="3" Margin="0,12,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <StackPanel
                Grid.Column="0"
                Orientation="Horizontal"
                Spacing="10">
                <Button x:Name="TryIgnoreButton" MinWidth="120">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <LucideIcon Kind="RefreshCcw" />
                            <TextBlock
                                x:Name="IgnoreTextBlock"
                                Text="Ignore"
                                TextAlignment="Center" />
                        </StackPanel>
                    </Button.Content>
                </Button>
                <Button x:Name="CopyButton" MinWidth="120">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <LucideIcon Kind="Copy" />
                            <TextBlock
                                x:Name="CopyTextBlock"
                                Text="Copy"
                                TextAlignment="Center" />
                        </StackPanel>
                    </Button.Content>
                </Button>
            </StackPanel>
            <StackPanel
                Grid.Column="1"
                HorizontalAlignment="Right"
                Orientation="Horizontal"
                Spacing="10">
                <Button x:Name="ExitButton" MinWidth="120">
                    <Button.Content>
                        <StackPanel
                            HorizontalAlignment="Center"
                            Orientation="Horizontal"
                            Spacing="6">
                            <LucideIcon Kind="X" />
                            <TextBlock
                                x:Name="ExitTextBlock"
                                Text="Exit"
                                TextAlignment="Center" />
                        </StackPanel>
                    </Button.Content>
                </Button>
            </StackPanel>
        </Grid>
    </Grid>
</suki:SukiWindow>